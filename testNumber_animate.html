<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id="numAnimate"></div>

</body>
<script>

    function formatMoney(amount, decimalCount = 2, decimal = ".", thousands = ",") {
        try {
            amount = amount / 100;
            decimalCount = Math.abs(decimalCount);
            decimalCount = isNaN(decimalCount) ? 2 : decimalCount;

            const negativeSign = amount < 0 ? "-" : "";
            const currency = "$";

            let i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();
            let j = (i.length > 3) ? i.length % 3 : 0;

            return negativeSign + currency + (j ? i.substr(0, j) + thousands : '') + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : "");
        } catch (e) {
            console.log(e)
        }
    }


    function animateNumber(element, num, time) {
        var showNum = 0;
        var steps = time / 50;
        var partsNumber = num / steps;
        element.innerHTML = formatMoney(showNum);

        for (var i = 0; i < steps; i++) {
            setTimeout(() => {
                showNum += partsNumber;
                element.innerHTML = formatMoney(showNum);
            }, i * 50);
        }

        setTimeout(() => {
            element.innerHTML = formatMoney(num);
        }, time);
    }

    function animateNumber2(element, num, time) {
        var a = 20, b = 10, temp;
        var seqNumber = [];
        while (a <= time) {
            temp = a;
            a = a + b;
            b = temp;
            seqNumber.push({num:(num * b) / time, timeout:b});
        }
        seqNumber.forEach((s) =>{
            setTimeout(() => {
                element.innerHTML = formatMoney(s.num);
            }, s.timeout);
        });
       

        console.log(seqNumber);
        setTimeout(() => {
            console.log("final");
            element.innerHTML = formatMoney(num);
        }, time);
    }
    animateNumber(document.getElementById("numAnimate"), 23122, 1000);


    // animateNumber(document.getElementById("numAnimate"), 12312312, 1000);






</script>

</html>